<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Exporting Google Saved Places | Josh Kasuboski</title><meta name=description content="An adventure in trying to get my saved places out of Google."><meta name=author content><link rel=me href=mailto:josh.kasuboski@gmail.com><link rel=me href=https://github.com/kasuboski><link rel=authorization_endpoint href=https://indieauth.com/auth><link rel=token_endpoint href=https://tokens.indieauth.com/token><link rel=microsub href=https://microsub.joshcorp.co/microsub><link rel=alternate type=application/rss+xml href=https://www.joshkasuboski.com/index.xml><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://unpkg.com/turretcss/dist/turretcss.min.css crossorigin=anonymous><style>@media only screen and (min-width:768px){:root{font-size:18px}}body{background-color:#faf9fa}pre{background-color:#d4f2e1}a{text-decoration-color:#5965f9}#site-header{box-shadow:0 4px 12px 0 rgba(0,0,0,.05)}#intro{background-color:#e6e8fe}#social a{color:transparent;text-decoration:none}</style></head><body><div class=padding-bottom-s><header id=site-header><div class="container max-width-l flex-justify-center padding-vertical-xs"><h1 class=no-margin-bottom><a class="text-decoration-none flex align-items-center" href=https://www.joshkasuboski.com/><img alt="jk logo" class="icon-s margin-right-xs" src=https://www.joshkasuboski.com/images/jk-logo.svg><small>Josh Kasuboski</small></a></h1><nav class=nav-inline><ul><li><a href=/about/>About</a></li><li><a href=/now/>Now</a></li></ul></nav></div></header><main class="container max-width-l margin-top-l"><article class=h-entry><header><h1 class="display-title-xl no-margin-bottom post-title p-name">Exporting Google Saved Places</h1><p class="post-date no-margin-top">Posted on
<time class=dt-published datetime=2020-01-25T12:40:00-06:00>25 January, 2020</time> by <a href=https://www.joshkasuboski.com/ class="p-author h-card" rel=author>Josh</a> ¬∑ 4min read</p></header><section class="content e-content margin-top-l"><p>I've made use of Google Saved Places for a while now. I have the standard ‚≠ê &ldquo;Starred&rdquo;, üö© &ldquo;Want to go&rdquo;, and ‚ù§ &ldquo;Favorites&rdquo; lists as well as some specific to cities. Saved places is really convenient when you're deciding where to go. My want to go list helps me remember the places I want to try and the favorites list often helps me find a place if I can't quite remember the name of it.</p><p>It's not all rosy though&mldr;when searching for anything in Google Maps it inexplicably doesn't show you if the places returned are in any of your lists. They also recently made the interface better for adding places to multiple lists, but you can't search your places by city let alone type (say coffee shops I love). This could be accomplished by having many lists, however I'm not looking to manually manage a growing list of lists.</p><h2 id=what-to-do-about-it>What to do about it</h2><p>What I really want is a list of places with their name, address, and general categories such as restaurant or coffee shop. Then I can tag those places with things like starred, favorite, want to go, etc.</p><p>Once I have that, I will be able to search my places by location, tag, and/or category. I'll want to be able to see them on a map similarly to how you can navigate around a city in Google Maps and see your saved places.</p><p>I'm going to start with all of my data from Google Saved Places and then add the info I want. Since I don't plan to stop using the Google Saved Places just yet, I'll need to be able to run the import multiple times. I'll make a <a href=https://en.wikipedia.org/wiki/Command-line_interface>cli</a> to help with importing the data.</p><h2 id=getting-the-data>Getting the data</h2><p>There doesn't seem to be an API to access your saved places. I had to resort to using <a href=https://takeout.google.com>Google Takeout</a>, which if you haven't used before is quite interesting to see everything Google knows about you.</p><p>Getting the data I wanted out of Takeout was a bit of trial and error. There are two options for Maps data as seen below, Maps and Maps (your places). Maps (your places) includes lists that aren't the starred list. Apparently, Google treats starred separately. I'm guessing this is because historically starred was the only option and was called saved. Another fun fact is that those starred places also show up at <a href=https://www.google.com/bookmarks>Google Bookmarks</a>.</p><p><img src=/img/maps-export-products.png alt></p><p>If you only want your starred places from Maps you'll want to select &ldquo;All Maps data included&rdquo; and select only &ldquo;My labeled places&rdquo;. Running the export with the two maps options will get you a link to download a <code>.zip</code> file. Once extracted, you'll have a variety of folders. The important files are <code>Saved Places.json</code> and <code>*.csv</code>.</p><p>The Saved Places file will have your starred list in <a href=https://en.wikipedia.org/wiki/GeoJSON>GeoJSON</a> format. This format provides a fair amount of info like place name, location, and general categories. The csv files are a lot less useful by themselves. For me, it was just place name and a URL. However, the URL didn't seem to be parsable so this data wasn't super useful. Still, I was able to get all of the place names that I had saved.</p><h2 id=enhance>Enhance!</h2><p>I want the name, address, and categories of my places. The geojson file has everything, but the csv files only provide a name. Enter the <a href=https://developers.google.com/places/web-service/intro>Google Places API</a> üí•. This API let's you lookup place data from Google, including all of the fields I want (besides user defined tags).</p><p>Unfortunately, neither of the formats I exported from Google gave me the <a href=https://developers.google.com/places/web-service/place-id>Place ID</a>, which would make it easy to find a specific place. The json file gave me a place name and address though so it's fairly simple to do a <a href=https://developers.google.com/places/web-service/search>Place Search</a> using the name and address as the input. The csv files providing only the place name and obscure URL is a little more difficult.</p><p>I ended up scraping the URL that was included for a string that looked like a Place ID. This definitely isn't perfect&mldr;especially since I only look for one of at least two possible formats, but it seemed to work for my data.</p><h2 id=next-steps>Next steps</h2><p>So, I was able to get my saved places out of Google and tag them with the list they were on. I'm pretty much at the exact point I was at with Google Places minus the Google Maps integration. üòí</p><p>I want to build up an interface to add more tags easily. I also need to build the search and visualization aspects for discovering my places.</p><p>I'd also like to set up the ability to post this info to my site using <a href=https://indieweb.org/Micropub>micropub</a>, but that presumes I have micropub set up here at all.</p><p>The code I used to parse and save my data is on GitHub. It's a <a href=https://en.wikipedia.org/wiki/Command-line_interface>cli</a> called <a href=https://github.com/kasuboski/neptune>neptune</a>. At this time, it let's you import and tag places and it will export each place to a json file in a folder.</p></section><footer class=margin-top-m><a class="permalink u-url text-decoration-none" href=https://www.joshkasuboski.com/posts/export-google-saved-places/>üîó</a></footer></article><nav class="margin-top-l flex justify-content-space-around"><div><a alt="Newer article" href=https://www.joshkasuboski.com/posts/dark-sky-shutdown/>&larr; Weather Data after Dark Sky Shutdown</a></div><div class=show-s-up><a alt="Top of page" href=#>Top</a></div><div><a alt="Older article" href=https://www.joshkasuboski.com/posts/replacing-feedly/>Replacing Feedly with Microsub? &rarr;</a></div></nav></main><footer class="container max-width-l margin-top-xl"><div class="box-shadow-l padding-m"><div class="h-card flex align-content-center"><figure class=icon-xxl><img alt="profile photo" class=u-photo src=https://www.joshkasuboski.com/img/josh-scotland.jpg></figure><div class=margin-left-m><h3 class=display-title><a class="u-url p-name text-decoration-none" href=https://www.joshkasuboski.com/>Josh Kasuboski</a></h3><p>Living in Austin <img class=icon-xs alt=texas src=https://www.joshkasuboski.com/img/texas.png> from <img class=icon-xs alt=wisconsin src=https://www.joshkasuboski.com/img/wisconsin.png></p><p id=social><a rel=me class="u-url margin-right-xs" href=https://github.com/kasuboski><img class=icon-xs src=https://www.joshkasuboski.com/icons/github.svg alt=github></a>
<a class=margin-right-xs href=https://linkedin.com/kasuboski><img class=icon-xs src=https://www.joshkasuboski.com/icons/linkedin.svg alt=linkedin></a>
<a href=mailto:josh.kasuboski@gmail.com class="u-email margin-right-xxs" rel=me><img class=icon-xs src=https://www.joshkasuboski.com/icons/envelope.svg alt=email></a>
<button class="button button-icon button-xs" style=background-color:transparent;padding:0;border:0 id=checkout-button-beermoney role=link type=button>
<img class=icon-xs src=https://www.joshkasuboski.com/icons/beer-money-icon.svg alt=beermoney></button></p></div></div></div></footer></div><script>(function(f,a,t,h,o,m){a[h]=a[h]||function(){(a[h].q=a[h].q||[]).push(arguments)};o=f.createElement('script'),m=f.getElementsByTagName('script')[0];o.async=1;o.src=t;o.id='fathom-script';m.parentNode.insertBefore(o,m)})(document,window,'https://fathom.joshcorp.co/tracker.js','fathom');fathom('set','siteId','XFQVM');fathom('trackPageview');</script><script src=https://js.stripe.com/v3></script><script>(function(){var DOMAIN='https://www.joshkasuboski.com/';var key='pk_live_51HJtKkASjDZJS9C9Ja9g6zTFbaTEdW7uCK2OTK1dq741RisoSBtSIac1QEMphVCEEkA7hTeuopkUsajAyWuyH7kT00cU4iVGfX';var price='price_1HJtUTASjDZJS9C90kJjztUq';var stripe=Stripe(key);var checkoutButton=document.getElementById('checkout-button-beermoney');checkoutButton.addEventListener('click',function(){stripe.redirectToCheckout({lineItems:[{price:price,quantity:1}],mode:'payment',successUrl:DOMAIN+'success',cancelUrl:DOMAIN+'canceled',}).then(function(result){if(result.error){var displayError=document.getElementById('error-message');displayError.textContent=result.error.message;}});});})();</script></body></html>